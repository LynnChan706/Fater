<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
		<title>PvDeviceI2CBus Class Reference</title>
		<link href="doxygen.css" rel="stylesheet" type="text/css">
		<link href="tabs.css" rel="stylesheet" type="text/css">
	</head>
	<body>
	<div class="contents">
		<div class="textblock">
			<h2><a href="http://www.pleora.com" target="_blank"><img src="logo.jpg" alt="Pleora Technologies Inc." align="middle" border="0"></a>
			eBUS SDK v4.1.4.3606 API</h2>
		</div>
	</div>
	<br>
	<br>
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_pv_device_i2_c_bus.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_pv_device_i2_c_bus-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PvDeviceI2CBus Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>I2C serial controller.  
 <a href="class_pv_device_i2_c_bus.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae329e9dd174536e218a038b4e2ee2f84"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae329e9dd174536e218a038b4e2ee2f84"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pv_device_i2_c_bus.html#ae329e9dd174536e218a038b4e2ee2f84">PvDeviceI2CBus</a> ()</td></tr>
<tr class="memdesc:ae329e9dd174536e218a038b4e2ee2f84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. <br/></td></tr>
<tr class="separator:ae329e9dd174536e218a038b4e2ee2f84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b28f9adf77b5437001b3cd7af8ef3eb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4b28f9adf77b5437001b3cd7af8ef3eb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pv_device_i2_c_bus.html#a4b28f9adf77b5437001b3cd7af8ef3eb">~PvDeviceI2CBus</a> ()</td></tr>
<tr class="memdesc:a4b28f9adf77b5437001b3cd7af8ef3eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr class="separator:a4b28f9adf77b5437001b3cd7af8ef3eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e0bc67a4eca555f067e960da106e956"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_pv_result.html">PvResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pv_device_i2_c_bus.html#a6e0bc67a4eca555f067e960da106e956">Open</a> (<a class="el" href="class_i_pv_device_adapter.html">IPvDeviceAdapter</a> *aDevice, <a class="el" href="_pv_device_serial_port_8h.html#adeba0547adb097b5eced5b7145f51bbe">PvDeviceSerial</a> aPort=<a class="el" href="_pv_device_serial_port_8h.html#adeba0547adb097b5eced5b7145f51bbea0fd72f18959d75d4dcf64134329fffa7">PvDeviceSerialBulk0</a>)</td></tr>
<tr class="memdesc:a6e0bc67a4eca555f067e960da106e956"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open an I2C channel to the device on given port I2C should already be setup and configured. Calling open does not setup I2C and configure it, it simply uses it for communication <em>aDevice<em> should be connected already. Will return error if device is not connect or I2C is not supported or unavailable. </em></em> <a href="#a6e0bc67a4eca555f067e960da106e956">More...</a><br/></td></tr>
<tr class="separator:a6e0bc67a4eca555f067e960da106e956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9ac6e12bdc8988a20f34c163d302606"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_pv_result.html">PvResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pv_device_i2_c_bus.html#aa9ac6e12bdc8988a20f34c163d302606">Close</a> ()</td></tr>
<tr class="memdesc:aa9ac6e12bdc8988a20f34c163d302606"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the I2C channel to the device.  <a href="#aa9ac6e12bdc8988a20f34c163d302606">More...</a><br/></td></tr>
<tr class="separator:aa9ac6e12bdc8988a20f34c163d302606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07ee0faf87a8947ed3b3bfd39826994c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pv_device_i2_c_bus.html#a07ee0faf87a8947ed3b3bfd39826994c">IsOpened</a> ()</td></tr>
<tr class="memdesc:a07ee0faf87a8947ed3b3bfd39826994c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether this class has been setup/opened properly.  <a href="#a07ee0faf87a8947ed3b3bfd39826994c">More...</a><br/></td></tr>
<tr class="separator:a07ee0faf87a8947ed3b3bfd39826994c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3fee32d1c11ccd0ec05e5942eddf311"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_pv_result.html">PvResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pv_device_i2_c_bus.html#aa3fee32d1c11ccd0ec05e5942eddf311">BurstWrite</a> (unsigned char aSlaveAddress, const unsigned char *aBuffer, uint32_t aBufferSize, bool aFastMode=true)</td></tr>
<tr class="memdesc:aa3fee32d1c11ccd0ec05e5942eddf311"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a command to the camera.  <a href="#aa3fee32d1c11ccd0ec05e5942eddf311">More...</a><br/></td></tr>
<tr class="separator:aa3fee32d1c11ccd0ec05e5942eddf311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7f209619883b5364e095b37624c36ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_pv_result.html">PvResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pv_device_i2_c_bus.html#aa7f209619883b5364e095b37624c36ae">IndirectBurstWrite</a> (unsigned char aSlaveAddress, unsigned char aOffset, const unsigned char *aBuffer, uint32_t aBufferSize, bool aFastMode=true)</td></tr>
<tr class="memdesc:aa7f209619883b5364e095b37624c36ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a command to the camera (for cameras with memory offsets).  <a href="#aa7f209619883b5364e095b37624c36ae">More...</a><br/></td></tr>
<tr class="separator:aa7f209619883b5364e095b37624c36ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6a90d55c735dbaf3ff1d4e1fed72ccc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_pv_result.html">PvResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pv_device_i2_c_bus.html#ad6a90d55c735dbaf3ff1d4e1fed72ccc">BurstRead</a> (unsigned char aSlaveAddress, unsigned char *aBuffer, uint32_t aBufferSize, uint32_t &amp;aBytesRead, bool aFastMode=true)</td></tr>
<tr class="memdesc:ad6a90d55c735dbaf3ff1d4e1fed72ccc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a reply from a camera.  <a href="#ad6a90d55c735dbaf3ff1d4e1fed72ccc">More...</a><br/></td></tr>
<tr class="separator:ad6a90d55c735dbaf3ff1d4e1fed72ccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d60fdc722d0362aa1e1a6fc3d5e07b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_pv_result.html">PvResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pv_device_i2_c_bus.html#a3d60fdc722d0362aa1e1a6fc3d5e07b6">IndirectBurstRead</a> (unsigned char aSlaveAddress, unsigned char aOffset, unsigned char *aBuffer, uint32_t aBufferSize, uint32_t &amp;aBytesRead, bool aFastMode=true, bool aUseCombinedFormat=true)</td></tr>
<tr class="memdesc:a3d60fdc722d0362aa1e1a6fc3d5e07b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a reply from a camera (for cameras with memory offsets).  <a href="#a3d60fdc722d0362aa1e1a6fc3d5e07b6">More...</a><br/></td></tr>
<tr class="separator:a3d60fdc722d0362aa1e1a6fc3d5e07b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2349fb84d2f53d4fad0db292d29df3c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_pv_result.html">PvResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pv_device_i2_c_bus.html#a2349fb84d2f53d4fad0db292d29df3c2">MasterTransmitter</a> (uint8_t aSlaveAddress, const uint8_t *aBuffer, uint32_t aBufferSize, bool aFastMode=true, bool aGenerateStopCondition=true)</td></tr>
<tr class="memdesc:a2349fb84d2f53d4fad0db292d29df3c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit Bulk or I2C as master.  <a href="#a2349fb84d2f53d4fad0db292d29df3c2">More...</a><br/></td></tr>
<tr class="separator:a2349fb84d2f53d4fad0db292d29df3c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0e2716393fe212ca2f4693f1beb5909"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_pv_result.html">PvResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pv_device_i2_c_bus.html#ad0e2716393fe212ca2f4693f1beb5909">MasterReceiverAfterFirstByte</a> (uint8_t aSlaveAddress, uint8_t *aBuffer, uint32_t aBufferSize, uint32_t &amp;aBytesRead, bool aFastMode=true, bool aGenerateStopCondition=true)</td></tr>
<tr class="memdesc:ad0e2716393fe212ca2f4693f1beb5909"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive 2nd gen Bulk or I2C as master.  <a href="#ad0e2716393fe212ca2f4693f1beb5909">More...</a><br/></td></tr>
<tr class="separator:ad0e2716393fe212ca2f4693f1beb5909"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1c6c8d27914e8d9cf6351042ef27109b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pv_device_i2_c_bus.html#a1c6c8d27914e8d9cf6351042ef27109b">IsSupported</a> (<a class="el" href="class_i_pv_device_adapter.html">IPvDeviceAdapter</a> *aDevice, <a class="el" href="_pv_device_serial_port_8h.html#adeba0547adb097b5eced5b7145f51bbe">PvDeviceSerial</a> aPort=<a class="el" href="_pv_device_serial_port_8h.html#adeba0547adb097b5eced5b7145f51bbea0fd72f18959d75d4dcf64134329fffa7">PvDeviceSerialBulk0</a>)</td></tr>
<tr class="memdesc:a1c6c8d27914e8d9cf6351042ef27109b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether the device supports I2C and if it is available Note that this function does not set I2C or the correct BulkSelector For example if I2C is only supported on Bulk1, then before calling this function, set BulkSelector to Bulk1 then test whether I2C is supported on Bulk1.  <a href="#a1c6c8d27914e8d9cf6351042ef27109b">More...</a><br/></td></tr>
<tr class="separator:a1c6c8d27914e8d9cf6351042ef27109b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>I2C serial controller. </p>
<p>The <a class="el" href="class_pv_device_i2_c_bus.html" title="I2C serial controller. ">PvDeviceI2CBus</a> lets you send commands to your camera and receive the camera's replies.</p>
<p>I2C uses the concept of a master and slave, where the master controls the clock and initiates reads and writes. For <a class="el" href="class_pv_device_i2_c_bus.html" title="I2C serial controller. ">PvDeviceI2CBus</a>, the device is the I2C master. The I2C slave is <em>typically</em> a camera, but could be any I2C-capable device connected to the device.</p>
<p>The <a class="el" href="class_pv_device_i2_c_bus.html" title="I2C serial controller. ">PvDeviceI2CBus</a> methods manage the entire IP Engine and camera communication required to send a message to the camera, but not the configuration and setup of I2C (those are done through GenICam parameters) Before using this class to communicate, I2C should be setup and configured through GenICam parameters For example BulkMode needs to be set to I2C on the correct serial port The <a class="el" href="class_pv_device_i2_c_bus.html#aa3fee32d1c11ccd0ec05e5942eddf311" title="Send a command to the camera. ">BurstWrite</a> method involves the following transaction:</p>
<ol type="1">
<li>PC calls <a class="el" href="class_pv_device_i2_c_bus.html#aa3fee32d1c11ccd0ec05e5942eddf311" title="Send a command to the camera. ">BurstWrite</a>.</li>
<li>PC passes entire message to the device via Ethernet.</li>
<li><a class="el" href="class_pv_device_i2_c_bus.html#aa3fee32d1c11ccd0ec05e5942eddf311" title="Send a command to the camera. ">BurstWrite</a> blocks.</li>
<li>Device to camera: [Start condition] <em>aSlaveAddress</em> [Write - SDA low]</li>
<li>Camera to device: Acknowledge</li>
<li>Device to camera: [First 8 bits of <em>aBuffer</em>]</li>
<li>Camera to device: Acknowledge</li>
<li>Device to camera: [Next 8 bits of <em>aBuffer</em>]</li>
<li>Camera to Device: Acknowledge</li>
<li>...</li>
<li>Device to camera: [Last 8 bits of <em>aBuffer</em>]</li>
<li>Camera to device: Acknowledge</li>
<li>Device to camera: [Stop condition]</li>
<li>Device reports the successful transmission of the message to the PC (via Ethernet).</li>
<li><a class="el" href="class_pv_device_i2_c_bus.html#aa3fee32d1c11ccd0ec05e5942eddf311" title="Send a command to the camera. ">BurstWrite</a> method unblocks (returns).</li>
</ol>
<p>For the complete hardware-level transactions for all <a class="el" href="class_pv_device_i2_c_bus.html" title="I2C serial controller. ">PvDeviceI2CBus</a> methods, see your hardware guide.</p>
<p><b>To send I2C-protocol serial commands to your camera:</b></p>
<ol type="1">
<li>Create an I2C serial controller. Use <a class="el" href="class_pv_device_i2_c_bus.html#ae329e9dd174536e218a038b4e2ee2f84" title="Constructor. ">PvDeviceI2CBus::PvDeviceI2CBus</a>.</li>
<li>Send a command to the camera. Use <a class="el" href="class_pv_device_i2_c_bus.html#aa3fee32d1c11ccd0ec05e5942eddf311" title="Send a command to the camera. ">BurstWrite</a>.</li>
<li>Test to ensure the message send succeeded. Check the <a class="el" href="class_pv_result.html" title="Result information. ">PvResult</a> returned by <a class="el" href="class_pv_device_i2_c_bus.html#aa3fee32d1c11ccd0ec05e5942eddf311" title="Send a command to the camera. ">BurstWrite</a>.</li>
<li>Retrieve the camera's reply. Use <a class="el" href="class_pv_device_i2_c_bus.html#ad6a90d55c735dbaf3ff1d4e1fed72ccc" title="Retrieve a reply from a camera. ">BurstRead</a>.</li>
<li>Test to ensure the message retrieval succeeded. Check the <a class="el" href="class_pv_result.html" title="Result information. ">PvResult</a> returned by <a class="el" href="class_pv_device_i2_c_bus.html#ad6a90d55c735dbaf3ff1d4e1fed72ccc" title="Retrieve a reply from a camera. ">BurstRead</a>.</li>
<li>Test the <em>content</em> of the message from the camera. Use <em>aBuffer</em> and <em>aBufferSize</em> parameters and your own code. </li>
</ol>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad6a90d55c735dbaf3ff1d4e1fed72ccc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_pv_result.html">PvResult</a> PvDeviceI2CBus::BurstRead </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>aSlaveAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>aBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>aBufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>aBytesRead</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>aFastMode</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a reply from a camera. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">aSlaveAddress</td><td>See <a class="el" href="class_pv_device_i2_c_bus.html#aa3fee32d1c11ccd0ec05e5942eddf311" title="Send a command to the camera. ">BurstWrite</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">aBuffer</td><td>A pointer to the data being received from the camera. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aBufferSize</td><td>The buffer's anticipated size. <a class="el" href="class_pv_device_i2_c_bus.html#ad6a90d55c735dbaf3ff1d4e1fed72ccc" title="Retrieve a reply from a camera. ">BurstRead</a> never returns with a buffer size larger than the originally specified <em>aBufferSize</em>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">aBytesRead</td><td>The number of bytes read. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aFastMode</td><td>See <a class="el" href="class_pv_device_i2_c_bus.html#aa3fee32d1c11ccd0ec05e5942eddf311" title="Send a command to the camera. ">BurstWrite</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_pv_result.html" title="Result information. ">PvResult</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa3fee32d1c11ccd0ec05e5942eddf311"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_pv_result.html">PvResult</a> PvDeviceI2CBus::BurstWrite </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>aSlaveAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>aBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>aBufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>aFastMode</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a command to the camera. </p>
<p>Before using <a class="el" href="class_pv_device_i2_c_bus.html#aa3fee32d1c11ccd0ec05e5942eddf311" title="Send a command to the camera. ">BurstWrite</a>, confirm it meets your camera's requirements: If your I2C-capable camera uses a single memory location (for the entire streamed message, use <a class="el" href="class_pv_device_i2_c_bus.html#aa3fee32d1c11ccd0ec05e5942eddf311" title="Send a command to the camera. ">BurstWrite</a> and <a class="el" href="class_pv_device_i2_c_bus.html#ad6a90d55c735dbaf3ff1d4e1fed72ccc" title="Retrieve a reply from a camera. ">BurstRead</a>; if it uses sequential memory (storing messages in a series of bytes in memory), use <a class="el" href="class_pv_device_i2_c_bus.html#aa7f209619883b5364e095b37624c36ae" title="Send a command to the camera (for cameras with memory offsets). ">IndirectBurstWrite</a> and <a class="el" href="class_pv_device_i2_c_bus.html#a3d60fdc722d0362aa1e1a6fc3d5e07b6" title="Retrieve a reply from a camera (for cameras with memory offsets). ">IndirectBurstRead</a>.</p>
<p>Note that current limitation of I2C write is for 512 bytes per message</p>
<p>The <a class="el" href="class_pv_device_i2_c_bus.html#aa3fee32d1c11ccd0ec05e5942eddf311" title="Send a command to the camera. ">BurstWrite</a> method sends a message, <em>aBuffer</em>, to the I2C-capable camera defined by <em>aSlaveAddress</em>.</p>
<p>If the camera doesn't acknowledge a byte during the burst write, <a class="el" href="class_pv_device_i2_c_bus.html#aa3fee32d1c11ccd0ec05e5942eddf311" title="Send a command to the camera. ">BurstWrite</a> terminates early, but returns <a class="el" href="struct_pv_result_1_1_code.html#af1274e2b903976bfd04c45b84341ec7ca70710a0a7cc21fcba9e37b910e73c4c9">PvResult::Code::OK</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">aSlaveAddress</td><td>The camera's I2C slave address (7-bits). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aBuffer</td><td>A pointer to the data being sent to the camera. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aBufferSize</td><td>The buffer's size. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aFastMode</td><td>The I2C bus speed. True for I2C's <em>Fast mode</em> (400 Kbits/s); false for <em>Standard mode</em> (100 kbits/s).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_pv_result.html" title="Result information. ">PvResult</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa9ac6e12bdc8988a20f34c163d302606"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_pv_result.html">PvResult</a> PvDeviceI2CBus::Close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the I2C channel to the device. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_pv_result.html" title="Result information. ">PvResult</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a3d60fdc722d0362aa1e1a6fc3d5e07b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_pv_result.html">PvResult</a> PvDeviceI2CBus::IndirectBurstRead </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>aSlaveAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>aOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>aBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>aBufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>aBytesWritten</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>aFastMode</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>aUseCombinedFormat</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a reply from a camera (for cameras with memory offsets). </p>
<p>The <a class="el" href="class_pv_device_i2_c_bus.html#a3d60fdc722d0362aa1e1a6fc3d5e07b6" title="Retrieve a reply from a camera (for cameras with memory offsets). ">IndirectBurstRead</a> is to <a class="el" href="class_pv_device_i2_c_bus.html#ad6a90d55c735dbaf3ff1d4e1fed72ccc" title="Retrieve a reply from a camera. ">BurstRead</a> method (for reading) as <a class="el" href="class_pv_device_i2_c_bus.html#aa7f209619883b5364e095b37624c36ae" title="Send a command to the camera (for cameras with memory offsets). ">IndirectBurstWrite</a> is to <a class="el" href="class_pv_device_i2_c_bus.html#aa3fee32d1c11ccd0ec05e5942eddf311" title="Send a command to the camera. ">BurstWrite</a> (for writing).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">aSlaveAddress</td><td>See <a class="el" href="class_pv_device_i2_c_bus.html#ad6a90d55c735dbaf3ff1d4e1fed72ccc" title="Retrieve a reply from a camera. ">BurstRead</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aOffset</td><td>See <a class="el" href="class_pv_device_i2_c_bus.html#aa7f209619883b5364e095b37624c36ae" title="Send a command to the camera (for cameras with memory offsets). ">IndirectBurstWrite</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">aBuffer</td><td>See <a class="el" href="class_pv_device_i2_c_bus.html#ad6a90d55c735dbaf3ff1d4e1fed72ccc" title="Retrieve a reply from a camera. ">BurstRead</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aBufferSize</td><td>See <a class="el" href="class_pv_device_i2_c_bus.html#ad6a90d55c735dbaf3ff1d4e1fed72ccc" title="Retrieve a reply from a camera. ">BurstRead</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aBytesWritten</td><td>See <a class="el" href="class_pv_device_i2_c_bus.html#ad6a90d55c735dbaf3ff1d4e1fed72ccc" title="Retrieve a reply from a camera. ">BurstRead</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aFastMode</td><td>See <a class="el" href="class_pv_device_i2_c_bus.html#ad6a90d55c735dbaf3ff1d4e1fed72ccc" title="Retrieve a reply from a camera. ">BurstRead</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aUseCombinedFormat</td><td>True if a stop should be issued between the write and read sequence; false if no stop is required.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_pv_result.html" title="Result information. ">PvResult</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa7f209619883b5364e095b37624c36ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_pv_result.html">PvResult</a> PvDeviceI2CBus::IndirectBurstWrite </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>aSlaveAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>aOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>aBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>aBufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>aFastMode</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a command to the camera (for cameras with memory offsets). </p>
<p>The <a class="el" href="class_pv_device_i2_c_bus.html#aa7f209619883b5364e095b37624c36ae" title="Send a command to the camera (for cameras with memory offsets). ">IndirectBurstWrite</a> method is very similar to the <a class="el" href="class_pv_device_i2_c_bus.html#aa3fee32d1c11ccd0ec05e5942eddf311" title="Send a command to the camera. ">BurstWrite</a> method, with the following exceptions:</p>
<ul>
<li>This method includes a memory offset, <em>aOffset</em>, that lets you write to a series of memory addresses in the camera.</li>
</ul>
<p>Before using this method, see <a class="el" href="class_pv_device_i2_c_bus.html#aa3fee32d1c11ccd0ec05e5942eddf311" title="Send a command to the camera. ">BurstWrite</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">aSlaveAddress</td><td>See <a class="el" href="class_pv_device_i2_c_bus.html#aa3fee32d1c11ccd0ec05e5942eddf311" title="Send a command to the camera. ">BurstWrite</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aOffset</td><td>The address offset of the slave in question. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aBuffer</td><td>See <a class="el" href="class_pv_device_i2_c_bus.html#aa3fee32d1c11ccd0ec05e5942eddf311" title="Send a command to the camera. ">BurstWrite</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aBufferSize</td><td>See <a class="el" href="class_pv_device_i2_c_bus.html#aa3fee32d1c11ccd0ec05e5942eddf311" title="Send a command to the camera. ">BurstWrite</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aFastMode</td><td>See <a class="el" href="class_pv_device_i2_c_bus.html#aa3fee32d1c11ccd0ec05e5942eddf311" title="Send a command to the camera. ">BurstWrite</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_pv_result.html" title="Result information. ">PvResult</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a07ee0faf87a8947ed3b3bfd39826994c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PvDeviceI2CBus::IsOpened </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test whether this class has been setup/opened properly. </p>
<dl class="section return"><dt>Returns</dt><dd>true if opened, false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a1c6c8d27914e8d9cf6351042ef27109b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool PvDeviceI2CBus::IsSupported </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_pv_device_adapter.html">IPvDeviceAdapter</a> *&#160;</td>
          <td class="paramname"><em>aDevice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_pv_device_serial_port_8h.html#adeba0547adb097b5eced5b7145f51bbe">PvDeviceSerial</a>&#160;</td>
          <td class="paramname"><em>aPort</em> = <code><a class="el" href="_pv_device_serial_port_8h.html#adeba0547adb097b5eced5b7145f51bbea0fd72f18959d75d4dcf64134329fffa7">PvDeviceSerialBulk0</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test whether the device supports I2C and if it is available Note that this function does not set I2C or the correct BulkSelector For example if I2C is only supported on Bulk1, then before calling this function, set BulkSelector to Bulk1 then test whether I2C is supported on Bulk1. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">aDevice</td><td>a connected device to test support for I2C on </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aPort</td><td>which port to test I2C support for (default Bulk0 if not specified)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if I2C is supported and available </dd></dl>

</div>
</div>
<a class="anchor" id="ad0e2716393fe212ca2f4693f1beb5909"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_pv_result.html">PvResult</a> PvDeviceI2CBus::MasterReceiverAfterFirstByte </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>aSlaveAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>aBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>aBufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>aBytesRead</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>aFastMode</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>aGenerateStopCondition</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive 2nd gen Bulk or I2C as master. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">aSlaveAddress</td><td>The camera's I2C slave address (7-bits). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aBuffer</td><td>A pointer to the data being sent to the camera. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aBufferSize</td><td>The buffer's size. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aFastMode</td><td>The I2C bus speed. True for I2C's <em>Fast mode</em> (400 Kbits/s); false for <em>Standard mode</em> (100 kbits/s). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aGenerateStopCondition</td><td>true if stop condition must be set</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_pv_result.html" title="Result information. ">PvResult</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2349fb84d2f53d4fad0db292d29df3c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_pv_result.html">PvResult</a> PvDeviceI2CBus::MasterTransmitter </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>aSlaveAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>aBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>aBufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>aFastMode</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>aGenerateStopCondition</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit Bulk or I2C as master. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">aSlaveAddress</td><td>The camera's I2C slave address (7-bits). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aBuffer</td><td>A pointer to the data being sent to the camera. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aBufferSize</td><td>The buffer's size. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aFastMode</td><td>The I2C bus speed. True for I2C's <em>Fast mode</em> (400 Kbits/s); false for <em>Standard mode</em> (100 kbits/s). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aGenerateStopCondition</td><td>true if stop condition must be set</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_pv_result.html" title="Result information. ">PvResult</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6e0bc67a4eca555f067e960da106e956"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_pv_result.html">PvResult</a> PvDeviceI2CBus::Open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_pv_device_adapter.html">IPvDeviceAdapter</a> *&#160;</td>
          <td class="paramname"><em>aDevice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_pv_device_serial_port_8h.html#adeba0547adb097b5eced5b7145f51bbe">PvDeviceSerial</a>&#160;</td>
          <td class="paramname"><em>aPort</em> = <code><a class="el" href="_pv_device_serial_port_8h.html#adeba0547adb097b5eced5b7145f51bbea0fd72f18959d75d4dcf64134329fffa7">PvDeviceSerialBulk0</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open an I2C channel to the device on given port I2C should already be setup and configured. Calling open does not setup I2C and configure it, it simply uses it for communication <em>aDevice<em> should be connected already. Will return error if device is not connect or I2C is not supported or unavailable. </em></em></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">aDevice</td><td>A pointer to connected device to open an I2C channel to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aPort</td><td>Port to use for I2C (Bulk0 default)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_pv_result.html" title="Result information. ">PvResult</a> will return error if device is not connected or I2C is not supported or unavailable </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_pv_device_i2_c_bus_8h_source.html">PvDeviceI2CBus.h</a></li>
<li>PvDeviceI2CBus.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<hr size="1">
<P><B>Copyright (c) 2002-2015 Pleora Technologies Inc.</B><BR>
<a href="http://www.pleora.com" target="_blank">www.pleora.com</a></P>
</body>
</html>
